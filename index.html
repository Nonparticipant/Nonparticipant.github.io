<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <link rel="icon" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAZhQTFRFAAAA////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////wJPVaAAAAIh0Uk5TAFBMXP89GgTd7ahpD1+w/c1//ppkDOaO+ecCgYKJCyneKy3l4V3MaAH3MKEH5PDPtg4qRSf48us3chZIDe6Dt5US4s6ij08UrghJ/CT2y+BBnPolJtpNkfOrOEudNbRGwGyzHaZA4wPx71UjbRdExYX1xOpvSl66GZjGR8IKTrisCa0GUeykUzLeHecAAAJdSURBVHic7VbnX1NBEBz1JBYkEmxEwQYaMFEjERsaEAQVYwFEsRdU7Ap2LNj/bZN3s6evX/LzY+YDt+ztzO3t3d4LUEcd/xeLrLE4kL9EWWNpQyJAwJ6/DMtX+Pkr7QUaVynlT8Ge34SkUqu9/GZrfgotlcErkLIWWLPWGda5+eut+RvQqo20S2Djpji0UaB9M40tLoGt22KQTmvadlPtDpdAZ1zm2KHHxE7xZNxF6IrmdzOBNpPALs8pZCP5OezmsntMSl7sjRLI79NjT0I8BZ9A1FVswX5n7MUBerr8fBwM5adwSBuHj4irL0AARzl5LCy7YqUJHPQH8THA2eMoDmrIzBATOcGIZCAf6Of88AiNk9qvL79qPiUbOB0igFFZoImRZxy3ProSztJ7LoyP84y4IJsdq3jHtV2YkATyoQK4yJCBSRqXys6SY13mUSo1Fc4HL2w5ukQriyvayFylJxXBB64x6rq5Vyg6ww3juBkpIHVUuEXjtn6scIf/90bzcZdx0xlZMX2v/GdSNudvIi/uC0+uba5c2pJ0Y3krcXjAyBk8pPWoXT3ulgQysQJ4wtCepzSSGDZH+Cyeb/p6FNO0nuMFrZc2fBQYPWVObla+GiNWAphleNb7wQ74pAaDC3ZgzsUP62I/XpHxOu8SeGMtYB4nvP2HP2fPxzty3ptHzL6CGh9Iapw3/I/V8E0dZ8xRRnexH9IJE59ofK5S4G9ff6nyCAXyBC/ovv5atQC+UeH7j+or6EBelFb8DPpVZwGp43yD6qyFD+S0wBh+1cZH32+N8Rr5ddRhjz8Xw1OTs9Ao9AAAAABJRU5ErkJggg==" type="image/png"/>
    
    <title>Hello World</title> 
    
    <style>
      body { margin: 0; }
  
      header#top-banner { color: white; background-color: #333; margin: 0; }
      header#top-banner h1 { font-size: 35px; margin: 0; padding: 15px; padding-bottom: 5px; display: inline-block; }
      header#top-banner span#menu-icon { position: relative; display: none; float: right; height: 15px; width: 18px; margin-top: 10px; margin-right: 10px; }
      header#top-banner span#menu-icon div { background-color: white; width: 15px; height: 3px; }
      header#top-banner span#menu-icon div#line-two { margin-top: 2px; }
      header#top-banner span#menu-icon div#line-three { margin-top: 2px; }

      nav#top-nav { position: -webkit-sticky; position: sticky; top: 0px; margin: 0px; padding: 0px; background-color: #333; color: #ffffff; }
      nav#top-nav > ul { list-style: none; list-style-type: none; padding: 0px; margin: 0px; z-index: 1; background-color: #333; }
      nav#top-nav ul li { padding-right: 36px; }
      nav#top-nav ul li, 
      nav#top-nav ul li a { color: #ffffff; display: inline-block; cursor: default; text-decoration: none; white-space: nowrap; }
      nav#top-nav ul li:hover, 
      nav#top-nav ul li a:hover { background-color: #000000; }
      nav#top-nav ul li a,
      nav#top-nav ul li a a { height: 100%; width: 100%; cursor: default; }
      nav#top-nav > ul li { position: relative; padding: 8px 20px; }
      nav#top-nav > ul li ul { display: none; padding: 0px; top: 29px; min-width: 160px; background-color: #333; position: absolute; left: 0px; z-index: 2; }
      nav#top-nav > ul li ul li { margin: 0; padding: 8px 16px; padding-right: 40px; display: block; }
      nav#top-nav > ul li ul li ul { top: 0px; z-index: 3; left: 100%; }
      nav#top-nav > ul li ul li:hover { background-color: #000000; }
      nav#top-nav li:hover > ul { display: block; }  
      nav#top-nav > ul > li.right { float: right; }
      nav#top-nav ul li.dropdown::before { content: ''; width: 0; height: 0; border-left: 5px solid transparent; border-right: 5px solid transparent; border-top: 5px solid #ffffff; position: absolute; right: 8px; top: 50%; -webkit-transform: translateY(-50%); transform: translateY(-50%); }
      nav#top-nav > ul li ul li.dropdown::before { width: 0; height: 0; border-top: 5px solid transparent; border-bottom: 5px solid transparent; border-left: 5px solid #ffffff; }
  
      body > main { padding: 10px; max-width: 100ch; margin: auto; }
      body > main h1,
      body > main h2 { margin: 10px 0px; }
      body > main p { margin: 10px 0px 20px 0px; }
/*
h1, h2, h3, h4, h5, h6 {  }
p { }
ol, ul { }
a { }
blockquote { } 
pre, code { }
small { }
*/
      body > footer { background-color: #333; color: white; margin: 0; padding: 10px; margin-top: 40px; }
 
      @media screen and (max-width: 600px) {
        header#top-banner { position: -webkit-sticky; position: sticky; top: 0; }
        header#top-banner span#menu-icon { display: block; }
        header#top-banner h1 { font-size: 25px; margin: 0; padding: 5px; padding-left: 10px; display: inline-block; }
        nav#top-nav { display: none; }
        nav#top-nav > ul li ul li.dropdown::before { content: ''; width: 0; height: 0; border-bottom: 0px; border-left: 5px solid transparent; border-right: 5px solid transparent; border-top: 5px solid #ffffff; position: absolute; right: 8px; top: 50%; -webkit-transform: translateY(-50%); transform: translateY(-50%); }
        nav#top-nav > ul > li, 
        nav#top-nav > ul > li.right { float: none; text-align: center; display: block; }
        nav#top-nav > ul > li:hover > ul,
        nav#top-nav > ul > li > ul > li:hover > ul { display: block; }
        nav#top-nav > ul li ul li { margin: 0; padding: 8px 16px; display: block; }
        nav#top-nav > ul li ul li ul { top: -1px; left: 100%; }
      }
    </style>
  </head>
  
  <body>   
    <header id="top-banner">
      <h1>Hello World</h1> 

      <span id="menu-icon">
        <div></div>
        <div id="line-two"></div>
        <div id="line-three"></div>
      </span>
    </header>
    
    <nav id="top-nav">
      <ul>   
        <li class="link">
          <a href="/">Home</a>
        </li>
        <li>
          Recommendations
          <ul>
            <li class="link">
              <a href="/#test">Books</a>
            </li>
            <li class="link">
              <a href="#test">Movies</a>
            </li>
            <li class="link">
              <a href="">Products</a>
            </li>
          </ul>
        </li>
        <li>
          Projects
          <ul>
            <li>
              JS
              <ul>
                <li class="link">
                  <a href="">Im a link</a>
                </li>
                <li class="link">
                  <a href="">Im a link</a>
                </li>
                <li>
                   Nested dropdown B
                    <ul>
                      <li class="link">
                        <a href="">Im a link</a>
                      </li>
                      <li class="link">
                        <a href="">Im a link</a>
                      </li>
                    </ul>
                  </li>             
              </ul>
            </li>
          </ul>
        </li>  
        <li class="link right">
          <a href="">About</a>
        </li>
      </ul>    
    </nav>

    <main>
      
    </main>

    <footer>
      Last updated 2020-07-25.
    </footer>
    
    <script>
      (function (){
        function parseMD(str) {
          var out = "", arr = str.split(/\r?\n/);
          for (var i=0; i < arr.length; i++){
            if (arr[i].length == "") { continue; } // skip blank
            if (arr[i].match(/^(#)+[ ]/)) {
              arr[i] = arr[i].replace(/^####[ ]?(.*?)$/gi, '<h4>$1</h4>'); // h4
              arr[i] = arr[i].replace(/^###[ ]?(.*?)$/gi, '<h3>$1</h3>'); // h3
              arr[i] = arr[i].replace(/^##[ ]?(.*?)$/gi, '<h2>$1</h2>'); // h2
              arr[i] = arr[i].replace(/^#[ ]?(.*?)$/gi, '<h1>$1</h1>'); // h1
              out += arr[i];
            } else {
              arr[i] = arr[i].replace(/\*\*(.*?)\*\*/gi, '<span style="font-weight: bold">$1</span>'); // bold
              arr[i] = arr[i].replace(/__(.*?)__/gi, '<span style="font-weight: bold">$1</span>'); // bold
              arr[i] = arr[i].replace(/\*(.*?)\*/gi, '<span style="font-style: italic">$1</span>')  // ital
              arr[i] = arr[i].replace(/_(.*?)_/gi, '<span style="font-style: italic">$1</span>')  // ital
              arr[i] = arr[i].replace(/\[(.*?)\]\((.*?)\)/gi, '<a href="$2">$1</a>'); //links
              out += "<p>"+arr[i]+"</p>";
            }
          }
          return out;
        }
        
        var xhttp = new XMLHttpRequest();
        xhttp.onreadystatechange = function() {
          var m = (document.querySelectorAll('main'))[0];
          if (this.readyState == 4 && this.status == 200 && m) {
            m.innerHTML = parseMD( xhttp.responseText );
          } else {
            //handle fail
          }
          var anc = document.getElementsByTagName('a');
          for (var i=0; i < anc.length; i++) {
            if ( anc[i].href.match(/#[A-z]+$/) ) {
              console.log(anc[i]);
                anc[i].addEventListener("click", function (ev) { 
                  console.log(ev);
                  ev.preventDefault(); 
                  console.log(window.location.hash);
                  console.log(window.location.pathname);
                  console.log(window.location.href);
                
               // window.location.replace(""); 
                  return false; 
              });
            };
          }
        };
        var path = window.location.protocol+"//"+window.location.hostname+"/content/";
        if ( window.location.hash.substr(1).length == 0 ) {
          path += "index.md";
        } else {
          path += ( window.location.hash.substr(1)+ ".md");
        }
        xhttp.open("GET", path, true);
        xhttp.send();
          
        /* fix for iOS :hover handling */
        document.addEventListener('touchstart', function() {});
        /* handler to toggle menu visibility */
        var b = document.querySelectorAll("body header span")[0];
        var m = document.querySelectorAll("body nav")[0];
        if (b && m) {
          b.addEventListener('click', function(e) {
            var m = document.querySelectorAll("body nav")[0];
            if (m) {
              if (m.style.display !== "block") {
                m.style.display = "block";
              } else {
                m.style.display = "";
              }  
            }
          });
        }
      })();  
    </script>
  </body>
</html>
